{
  "properties": {
    "name": "Http Receiver",
    "icon": "icons/http.png",
    "doc" : "${doc}",
    "id": "http-receiver",
    "authentication": "Beta",
    "tags": ["SaaS"]
  },
  "configOptions": {
    "pdkExpansion": [],
    "node": {
      "type": "object",
      "properties": {
        "eventScript": {
          "title": "${node_script_title}",
          "type": "string",
          "x-decorator": "FormItem",
          "x-decorator-props": {
            "gridSpan": 2,
            "colon": false,
            "tooltip": "${node_tip_script}"
          },
          "content": "\t//${node_return_type}\n\t//data is an array or object\n\t//return data = {\n\t\t//\"eventType\": \" i \", // i is insert, u is update, d is delete\n\t\t//\"tableName\": \" \", // source table name\n\t\t//\"data\": { }, // master data\n\t}",
          "x-component": "JsEditor",
          "x-component-props": {
            "height": 240,
            "before": "function handleEvent(event) {",
            "content": "\t//${node_return_type}\n\t//data is an array or object\n\t//return data = {\n\t\t//\"eventType\": \" i \", // i is insert, u is update, d is delete\n\t\t//\"tableName\": \" \", // source table name\n\t\t//\"data\": { }, // master data\n\t}",
            "after": "}",
            "theme": "one_dark"
          },
          "x-reactions": {
            "dependencies": [
              "__TAPDATA.connection_type"
            ],
            "fulfill": {
              "schema": {
                "x-decorator-props.style.display": "{{$deps[0]!==\"source\" ? null:\"none\"}}"
              }
            }
          },
          "x-index": 20
        }
      }
    },
    "connection": {
      "type": "object",
      "properties": {
        "hookButton": {
          "type": "void",
          "title": "${hookButton}",
          "x-decorator": "FormItem",
          "x-component-props": {
            "onClick": "{{useAsyncDataSourceByConfig({service: getToken, withoutField: true}, {name:'hookText'}, $values, $form)}}"
          },
          "x-content": "hookButton",
          "x-component": "Button",
          "x-index": 10
        },
        "hookText": {
          "type": "string",
          "title": " ",
          "x-decorator": "FormItem",
          "x-decorator-props": {
            "colon": false
          },
          "x-component": "Input",
          "x-index": 70,
          "actionOnCopy" : "NEW_WEB_HOOK_URL"
        }
      }
    }
  },
  "messages": {
    "default": "en_US",
    "en_US": {
      "doc": "docs/http_en_US.md",

      "webHook": "Service Hook",
      "hookButton": "Generate Service URL",

      "node_script_title": "Data processing script",
      "node_illustrate_title": "JavaScript Writing Instructions",
      "node_return_type": "Script Method Return Value Specification: ",
      "node_tip_script": "You can preprocess the data received by the receiver from third-party platforms through this script, and return the type (eventType), table (tableName), and final data body of this data according to the specified structure (data)."
    },
    "zh_CN": {
      "doc": "docs/coding_zh_CN.md",

      "webHook": "Service Hook",
      "hookButton": "生成服务 URL",
      "node_script_title": "数据处理脚本",
      "node_illustrate_title": "JavaScript编写说明",
      "node_return_type": "脚本方法返回值规范：",
      "node_tip_script": "您可以通过此脚本预处理接收器收到的第三方平台推送过来的数据，并按指定结构返回这个数据的类型（eventType）、所属表（tableName）、以及最终数据体（data）。"
    },
    "zh_TW": {
      "doc": "docs/coding_zh_TW.md",

      "webHook": "Service Hook",
      "hookButton": "生成服務URL",
      "node_script_title": "數據處理腳本",
      "node_illustrate_title": "JavaScript編寫說明",
      "node_return_type": "腳本方法返回值規範：",
      "node_tip_script": "您可以通過此腳本預處理接收器收到的協力廠商平臺推送過來的數據，並按指定結構返回這個數據的類型（eventType）、所屬錶（tableName）、以及最終數據體（data）。"
    }
  },
  "dataTypes": {

  }
}
