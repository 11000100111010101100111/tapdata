{
  "properties": {
    "name": "Http Receiver",
    "icon": "icons/http.png",
    "doc" : "${doc}",
    "id": "http-receiver",
    "authentication": "Beta",
    "tags": ["SaaS"]
  },
  "configOptions": {
    "pdkExpansion": [],
    "node": {
      "type": "object",
      "properties": {
        "illustrateTitle": {
          "title": "${node_illustrate_title}",
          "type": "void",
          "x-decorator": "FormItem",
          "x-component": "Text",
          "x-component-props": {
            "content": "${node_return_type}: // data is an array or object\n return data = {\n\t\"eventType\": \" i \", // i is insert, u is update, d is delete\n\t\"tableName\": \" \", // source table name\n\t\"data\": { }, // master data\n}"
          },
          "x-index": 10
        },
        "eventScript": {
          "title": "${node_script_title}",
          "type": "string",
          "x-decorator": "FormItem",
          "x-decorator-props": {
            "gridSpan": 2,
            "colon": false
          },
          "x-component": "JsEditor",
          "x-component-props": {
            "height": 240,
            "before": "function handleEvent(event) {",
            "after": "}",
            "theme": "one_dark"
          },
          "x-reactions": {
            "dependencies": [
              "__TAPDATA.connection_type"
            ],
            "fulfill": {
              "schema": {
                "x-decorator-props.style.display": "{{$deps[0]!==\"source\" ? null:\"none\"}}"
              }
            }
          },
          "x-index": 20
        }
      }
    },
    "connection": {
      "type": "object",
      "properties": {
        "hookButton": {
          "type": "void",
          "title": "${hookButton}",
          "x-decorator": "FormItem",
          "x-component-props": {
            "onClick": "{{useAsyncDataSourceByConfig({service: getToken, withoutField: true}, {name:'hookText'}, $values, $form)}}"
          },
          "x-content": "hookButton",
          "x-component": "Button",
          "x-index": 10
        },
        "hookText": {
          "type": "string",
          "title": " ",
          "x-decorator": "FormItem",
          "x-decorator-props": {
            "colon": false
          },
          "x-component": "Input",
          "x-index": 70,
          "actionOnCopy" : "NEW_WEB_HOOK_URL"
        }
      }
    }
  },
  "messages": {
    "default": "en_US",
    "en_US": {
      "doc": "docs/http_en_US.md",

      "webHook": "Service Hook",
      "hookButton": "Generate Service URL",

      "node_script_title": "Data processing script",
      "node_illustrate_title": "JavaScript Writing Instructions",
      "node_return_type": "Script Method Return Value Specification: "
    },
    "zh_CN": {
      "doc": "docs/coding_zh_CN.md",

      "webHook": "Service Hook",
      "hookButton": "生成服务 URL",
      "node_script_title": "数据处理脚本",
      "node_illustrate_title": "JavaScript编写说明",
      "node_return_type": "脚本方法返回值规范："
    },
    "zh_TW": {
      "doc": "docs/coding_zh_TW.md",

      "webHook": "Service Hook",
      "hookButton": "生成服務URL",
      "node_script_title": "數據處理腳本",
      "node_illustrate_title": "JavaScript編寫說明",
      "node_return_type": "腳本方法返回值規範："
    }
  },
  "dataTypes": {

  }
}
